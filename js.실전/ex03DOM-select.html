<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form name="frm" method="post" action="#" target="_blank" onsubmit="return false;">
        <select name="major" onchange="sel_change()">
            <option>HTML</option>
            <option>CSS</option>
            <option>JS</option>
        </select>
        <input type="submit" value="전송" onclick="send()">
        </form>

        <p id="space">
           
                       

        </p>

        <script>
            /*기본적으로 form태그 내에 있는 input,button을 입력하게 되면 
            form태그는 제출을 하려고 한다.
            내가 만약에, 제출을 하기 전 다른 함수를 실행시켜주고 싶다면?
            <form>태그에 onsubmit=(return false)를 추가해둔다

            1. select 내 모든 option 요소에 접근
            -> select이름.option    
            */

           let op = document.frm.major.options // select의 option들이 가져와짐
           console.log(op[1].value); //옵션 값 가져오는 방법


        const send = () => {
                console.log('send 함수 호출 완료!')

                //1.선택한 option 요소의 index값을 가져오자 
                let sel = document.frm.major // html 문서에서 가져온 select태그
                let sel_index = sel.selectedIndex //사용자가 선택한 인덱스번호

               let gettext = op[sel_index].value
               console.log('가장 좋아하는과목은',gettext,'입니다.');


                //2.가져온 index 값의 내용을 gettext라는 변수에 지정
                //3.id가 space인 공간에 '가장좋아하는 과목은 js입니다'라는 멘트가 나옴

                let space = document.getElementById('space')
                space.innerHTML += `가장 좋아하는 과목은${gettext}입니다.<br>`

            }
            
        const sel_change = () => {
                console.log('sel_change 함수 호출 완료')
                //1.선택된 option 요소의 index값을 가져와야함: selectedIndex
                let sel = document.frm.major; //문서에서 이름이 frm인 form태그 안에 major라는 요소를 가져와서 sel이라는 변수에 저장

                let sel_index = sel.selectedIndex; //sel이라는 변수안에 selected된 index번호를 줘 => sel_index에 저장함

                console.log('선택된 인덱스', sel_index);

                // 2. 내가 선택한 값의 option을 가져오려면
                console.log(op[sel_index].value)

            }   
        </script>
</body>
</html>